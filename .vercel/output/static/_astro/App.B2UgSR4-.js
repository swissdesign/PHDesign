import{r as t}from"./index.DiEladB3.js";var ne={exports:{}},ee={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oe;function pe(){if(oe)return ee;oe=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function n(i,l,d){var a=null;if(d!==void 0&&(a=""+d),l.key!==void 0&&(a=""+l.key),"key"in l){d={};for(var o in l)o!=="key"&&(d[o]=l[o])}else d=l;return l=d.ref,{$$typeof:s,type:i,key:a,ref:l!==void 0?l:null,props:d}}return ee.Fragment=r,ee.jsx=n,ee.jsxs=n,ee}var le;function me(){return le||(le=1,ne.exports=pe()),ne.exports}var e=me();const fe=({isOpen:s,onClose:r,onNavigate:n,onOpenContact:i,onSelectProject:l,latestProjects:d,originRect:a,theme:o})=>{const[f,h]=t.useState(!1),[P,C]=t.useState(!1),[y,R]=t.useState(!1),[m,w]=t.useState("DE"),[L,p]=t.useState(!1);if(t.useEffect(()=>{if(s)p(!1),R(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{h(!0),setTimeout(()=>C(!0),400)})});else{C(!1),h(!1),p(!0);const c=setTimeout(()=>{R(!1),p(!1)},700);return()=>clearTimeout(c)}},[s]),!y||!a)return null;const D=o==="light"?"bg-[#FAFAF9]":"bg-[#1C1917]",E=o==="light"?"text-stone-900":"text-stone-100",A=o==="light"?"text-stone-500":"text-stone-400",F=o==="light"?"border-stone-200":"border-stone-800",B=o==="light"?"bg-white":"bg-stone-900",k=o==="light"?"text-cyan-900 font-medium":"text-cyan-200 font-medium",z=o==="light"?"hover:text-cyan-700":"hover:text-cyan-200",M=o==="light"?"hover:border-cyan-900/30":"hover:border-cyan-500/30",v=o==="light"?"group-hover:bg-cyan-900 group-hover:text-white":"group-hover:bg-cyan-200 group-hover:text-stone-900",x=o==="light"?"text-cyan-700 font-medium":"text-cyan-300 font-medium",S=o==="light"?"hover:shadow-[0_20px_40px_-10px_rgba(8,145,178,0.15)]":"hover:shadow-[0_20px_40px_-10px_rgba(34,211,238,0.1)]",b=d.slice(0,3),j=c=>{n(c),r()},g=c=>{const u=c.currentTarget.getBoundingClientRect();i({top:u.top,left:u.left,width:u.width,height:u.height})},$=()=>{window.dispatchEvent(new CustomEvent("p-heiniger-open-cookies")),r()};return e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center pointer-events-none",children:[e.jsx("div",{className:`absolute inset-0 backdrop-blur-sm transition-opacity duration-700 ease-in-out ${f?"opacity-100 pointer-events-auto":"opacity-0"} ${o==="light"?"bg-white/60":"bg-black/60"}`,onClick:r}),e.jsxs("div",{className:`fixed shadow-2xl overflow-hidden flex flex-col transition-all duration-700 cubic-bezier(0.19, 1, 0.22, 1) pointer-events-auto ${D}`,style:{top:f?"5%":`${a.top}px`,left:f?"5%":`${a.left}px`,width:f?"90%":`${a.width}px`,height:f?"90%":`${a.height}px`,borderRadius:f?"0px":"20px",opacity:1},children:[e.jsxs("div",{className:`flex flex-col md:flex-row md:items-center p-6 md:p-8 border-b ${F} transition-opacity duration-500 ${P?"opacity-100":"opacity-0"}`,children:[e.jsxs("div",{className:"flex justify-between items-center w-full md:w-auto",children:[e.jsx("span",{className:`text-xs uppercase tracking-widest ${A}`,children:"Menu & Settings"}),e.jsx("button",{onClick:r,className:`md:hidden w-10 h-10 flex items-center justify-center rounded-full transition-colors ${o==="light"?"hover:bg-stone-200":"hover:bg-stone-800"} ${E}`,children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsxs("div",{className:`mt-4 md:mt-0 md:ml-12 flex flex-col md:flex-row gap-4 md:gap-8 md:items-center text-[10px] uppercase tracking-widest ${A} flex-1`,children:[e.jsx("div",{className:"flex gap-4",children:["DE","EN","FR","IT"].map(c=>e.jsx("button",{onClick:()=>w(c),className:`transition-colors ${m===c?k:`opacity-50 hover:opacity-100 ${z}`}`,children:c},c))}),e.jsx("div",{className:"hidden md:block h-3 w-px bg-current opacity-20"}),e.jsxs("div",{className:"flex flex-wrap gap-x-6 gap-y-2",children:[e.jsx("a",{href:"/iam.html",className:`hover:underline ${z}`,onClick:r,children:"iam"}),e.jsx("a",{href:"#",className:`hover:underline ${z}`,children:"Impressum"}),e.jsx("a",{href:"#",className:`hover:underline ${z}`,children:"Datenschutz"}),e.jsx("a",{href:"#",className:`hover:underline ${z}`,children:"AGB"}),e.jsx("button",{onClick:$,className:`hover:underline ${z}`,title:"Manage Cookie Preferences",children:"Cookies"})]})]}),e.jsx("button",{onClick:r,className:`hidden md:flex w-10 h-10 items-center justify-center rounded-full transition-colors ${o==="light"?"hover:bg-stone-200":"hover:bg-stone-800"} ${E}`,children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})})]}),e.jsx("div",{className:`flex-1 overflow-y-auto scroll-smooth transition-opacity duration-500 delay-100 ${P?"opacity-100":"opacity-0"}`,children:e.jsxs("div",{className:"p-6 md:p-10 space-y-12 max-w-5xl mx-auto pb-20",children:[e.jsx("section",{children:e.jsxs("nav",{className:"flex flex-col gap-4",children:[e.jsxs("button",{onClick:()=>j("work"),className:`text-4xl md:text-6xl text-left font-light tracking-tighter hover:tracking-wide transition-all duration-500 whitespace-nowrap group ${E}`,children:[e.jsx("span",{className:`${o==="light"?"group-hover:text-cyan-900":"group-hover:text-cyan-200"} transition-colors`,children:"Selected"})," Work"]}),e.jsxs("button",{onClick:()=>j("services"),className:`text-4xl md:text-6xl text-left font-light tracking-tighter hover:tracking-wide transition-all duration-500 whitespace-nowrap group ${E}`,children:["Studio ",e.jsx("span",{className:`${o==="light"?"group-hover:text-cyan-900":"group-hover:text-cyan-200"} transition-colors`,children:"Services"})]})]})}),e.jsxs("section",{children:[e.jsx("h3",{className:`text-xs uppercase tracking-widest mb-6 ${A}`,children:"Latest Projects"}),e.jsx("div",{className:"flex gap-4 overflow-x-auto pb-6 snap-x snap-mandatory",style:{scrollbarWidth:"none"},children:b.map(c=>e.jsxs("div",{className:`flex-none w-[280px] md:w-[350px] snap-start rounded-lg overflow-hidden group cursor-pointer border ${F} ${B} ${M}`,onClick:u=>{if(L)return;const N=u.currentTarget.getBoundingClientRect();l(c.slug,{top:N.top,left:N.left,width:N.width,height:N.height})},"aria-disabled":L,children:[e.jsxs("div",{className:"aspect-[16/9] overflow-hidden relative",children:[e.jsx("img",{src:`https://picsum.photos/seed/${encodeURIComponent(c.slug)}/1200/700`,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105",alt:c.title}),e.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-cyan-500 transition-all duration-500 w-0 group-hover:w-full"})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h4",{className:`text-sm font-medium ${E} group-hover:text-cyan-700 dark:group-hover:text-cyan-300 transition-colors`,children:c.title}),e.jsx("p",{className:`text-xs mt-1 ${A}`,children:c.category})]})]},c.slug))})]}),e.jsxs("section",{className:"max-w-3xl",children:[e.jsx("h3",{className:`text-xs uppercase tracking-widest mb-6 ${A}`,children:"Direct Contact"}),e.jsx("button",{onClick:g,className:`group w-full text-left p-8 md:p-10 rounded-2xl border transition-all duration-500 hover:scale-[1.01] ${F} ${B} ${M} ${S}`,children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:`text-2xl md:text-3xl font-light mb-2 ${E} group-hover:text-cyan-900 dark:group-hover:text-cyan-100 transition-colors`,children:"Start a Project"}),e.jsxs("p",{className:`text-sm md:text-base max-w-md ${A}`,children:["Have an idea? Let's discuss how we can bring it to life with ",e.jsx("span",{className:x,children:"precision"})," and ",e.jsx("span",{className:x,children:"quiet luxury"}),"."]})]}),e.jsx("div",{className:`w-12 h-12 rounded-full border flex items-center justify-center transition-colors ${v} ${o==="light"?"border-stone-200":"border-stone-700"}`,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),e.jsx("polyline",{points:"12 5 19 12 12 19"})]})})]})})]})]})})]})]})},ge=({currentView:s,onNavigate:r,onOpenContact:n,onSelectProject:i,latestProjects:l,isAnyModalOpen:d,theme:a})=>{const[o,f]=t.useState(!1),[h,P]=t.useState(null),[C,y]=t.useState(!1),[R,m]=t.useState(!1),w=t.useRef(null),L=720,p=()=>{if(!C&&w.current){const v=w.current.getBoundingClientRect();P({top:v.top,left:v.left,width:v.width,height:v.height}),f(!0)}};t.useEffect(()=>{const v=window.matchMedia("(pointer: coarse)"),x=S=>m(S.matches);return m(v.matches),v.addEventListener?v.addEventListener("change",x):v.addListener(x),()=>{v.removeEventListener?v.removeEventListener("change",x):v.removeListener(x)}},[]);const D=()=>{C||(f(!1),y(!0),setTimeout(()=>y(!1),L))},E=(v,x)=>{C||(y(!0),f(!1),setTimeout(()=>{r("work"),i(v,x),y(!1)},L))},A=new Intl.DateTimeFormat("de-DE",{weekday:"long",day:"2-digit",month:"long",year:"numeric"}).format(new Date),F=a==="light"?"text-stone-900":"text-stone-100",B=a==="light"?"text-cyan-900":"text-cyan-200",k=a==="light"?"bg-stone-900":"bg-stone-100",z=a==="light"?"bg-cyan-700 group-hover:bg-cyan-500":"bg-cyan-400 group-hover:bg-cyan-200",M=a==="light"?"from-[#FAFAF9]/90 via-[#FAFAF9]/40 to-transparent":"from-[#1C1917]/90 via-[#1C1917]/40 to-transparent";return e.jsxs(e.Fragment,{children:[e.jsxs("nav",{className:"fixed top-0 left-0 w-full z-50 pointer-events-none",children:[e.jsx("div",{className:`absolute top-0 left-0 w-full h-64 bg-gradient-to-b ${M} backdrop-blur-[3px] transition-all duration-700 pointer-events-none`,style:{maskImage:"linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 30%, rgba(0,0,0,0) 100%)",WebkitMaskImage:"linear-gradient(to bottom, rgba(0,0,0,1) 0%, rgba(0,0,0,0.8) 30%, rgba(0,0,0,0) 100%)"}}),e.jsxs("div",{className:"relative w-full px-6 py-6 flex justify-between items-start",children:[e.jsx("div",{className:"pointer-events-auto",children:e.jsxs("h1",{className:`text-sm font-semibold tracking-tight uppercase cursor-pointer transition-colors duration-500 group ${F}`,onClick:()=>r("work"),children:["P. Heiniger",e.jsx("span",{className:`block font-normal text-xs mt-1 transition-colors duration-500 opacity-80 ${B}`,children:"Design Studio"})]})}),e.jsx("div",{className:"pointer-events-auto",children:e.jsx("button",{ref:w,onClick:p,className:`group relative w-12 h-12 flex items-center justify-center focus:outline-none transition-all duration-300 active:scale-90 ${o||d&&R?"opacity-0 pointer-events-none":"opacity-100"}`,"aria-label":"Menu",children:e.jsxs("div",{className:"flex flex-col items-center justify-center gap-[6px] transition-transform duration-500 ease-[cubic-bezier(0.23,1,0.32,1)] group-hover:gap-[8px] group-hover:rotate-90",children:[e.jsx("span",{className:`block w-6 h-[1.5px] transition-colors duration-500 ${k}`}),e.jsx("span",{className:`block w-6 h-[1.5px] transition-colors duration-500 ${z}`})]})})}),e.jsx("div",{className:`absolute top-6 left-1/2 -translate-x-1/2 hidden md:block transition-colors duration-500 opacity-70 pointer-events-none ${F}`,children:e.jsxs("span",{className:"text-[10px] tracking-widest uppercase font-medium",children:["Andermatt — ",A]})})]})]}),e.jsx(fe,{isOpen:o,onClose:D,onNavigate:r,onOpenContact:n,onSelectProject:E,latestProjects:l,originRect:h,theme:a})]})},be=6,ce=.35,ve=2,J=(s,r,n)=>Math.min(n,Math.max(r,s)),ye=(s,{enabled:r,axis:n="both",friction:i=.94,maxVelocity:l=55,minVelocity:d=.4,stopWhen:a=!1,bounds:o,getPosition:f,setPosition:h,onMove:P,onInteractionStart:C,onPanStart:y,onStop:R,prefersReducedMotion:m=!1})=>{const w=t.useRef({x:0,y:0}),L=t.useRef(null),p=t.useRef(o),D=t.useRef(f),E=t.useRef(h),A=t.useRef(P),F=t.useRef(C),B=t.useRef(y),k=t.useRef(R),z=t.useRef(a),M=t.useRef(m),v=t.useRef(i),x=t.useRef(l),S=t.useRef(d),b=t.useRef({id:null,startX:0,startY:0,lastX:0,lastY:0,lastTime:0,hasCapture:!1,panningActive:!1}),j=n==="x"||n==="both",g=n==="y"||n==="both";t.useEffect(()=>{p.current=o},[o]),t.useEffect(()=>{D.current=f},[f]),t.useEffect(()=>{E.current=h},[h]),t.useEffect(()=>{A.current=P},[P]),t.useEffect(()=>{F.current=C},[C]),t.useEffect(()=>{B.current=y},[y]),t.useEffect(()=>{k.current=R},[R]),t.useEffect(()=>{z.current=a},[a]),t.useEffect(()=>{M.current=m},[m]),t.useEffect(()=>{v.current=i},[i]),t.useEffect(()=>{x.current=l},[l]),t.useEffect(()=>{S.current=d},[d]);const $=t.useCallback(I=>{const q=p.current;return q?{x:J(I.x,q.x.min,q.x.max),y:J(I.y,q.y.min,q.y.max)}:I},[]),c=t.useCallback(()=>{L.current!==null&&(cancelAnimationFrame(L.current),L.current=null),w.current={x:0,y:0}},[]),u=t.useCallback(I=>{E.current($(I))},[$]),N=(I,q)=>{const Y=D.current(),H=j?I:0,G=g?q:0,V={x:Y.x+H,y:Y.y+G},T=$(V);p.current&&(T.x!==V.x&&(w.current.x*=ce),T.y!==V.y&&(w.current.y*=ce)),E.current(T),A.current?.(Math.hypot(H,G))},W=()=>{if(z.current){c(),k.current?.();return}const{x:I,y:q}=w.current;if(Math.abs(I)<S.current&&Math.abs(q)<S.current){c(),k.current?.();return}N(I,q),w.current={x:J(I*v.current,-x.current,x.current),y:J(q*v.current,-x.current,x.current)},L.current=requestAnimationFrame(W)};return t.useEffect(()=>{const I=s.current;if(!r||!I)return;const q=Y=>{if(z.current||!j||!Y.shiftKey||Math.abs(Y.deltaY)<=ve)return;Y.cancelable&&Y.preventDefault();const H=Y.deltaY;N(H,0),w.current.x=J(H,-x.current,x.current),w.current.y=0,!M.current&&L.current===null&&(L.current=requestAnimationFrame(W))};return I.addEventListener("wheel",q,{passive:!1}),()=>{I.removeEventListener("wheel",q)}},[r,j]),t.useEffect(()=>{const I=s.current;if(!r||!I)return;const q=T=>{z.current||T.pointerType==="mouse"&&T.button!==0||(b.current={id:T.pointerId,startX:T.clientX,startY:T.clientY,lastX:T.clientX,lastY:T.clientY,lastTime:performance.now(),hasCapture:!1,panningActive:!1},c(),F.current?.())},Y=T=>{if(b.current.id!==T.pointerId)return;const Q=T.clientX-b.current.startX,Z=T.clientY-b.current.startY;if(!b.current.panningActive){if((n==="both"?Math.hypot(Q,Z):Math.abs(n==="x"?Q:Z))<=be)return;if(b.current.panningActive=!0,!b.current.hasCapture)try{I.setPointerCapture(T.pointerId),b.current.hasCapture=!0}catch{b.current.hasCapture=!1}b.current.lastX=T.clientX,b.current.lastY=T.clientY,b.current.lastTime=performance.now(),B.current?.()}T.cancelable&&T.preventDefault();const te=performance.now(),_=Math.max(1,te-b.current.lastTime),O=T.clientX-b.current.lastX,U=T.clientY-b.current.lastY;N(O,U),w.current={x:J((j?O:0)/_*16,-x.current,x.current),y:J((g?U:0)/_*16,-x.current,x.current)},b.current.lastX=T.clientX,b.current.lastY=T.clientY,b.current.lastTime=te},H=(T,Q)=>{if(b.current.id!==T.pointerId)return;if(b.current.hasCapture)try{I.releasePointerCapture(T.pointerId)}catch{}const Z=b.current.panningActive;b.current.id=null,b.current.hasCapture=!1,b.current.panningActive=!1,Z&&(Q&&!M.current&&(Math.abs(w.current.x)>S.current||Math.abs(w.current.y)>S.current)?L.current=requestAnimationFrame(W):(c(),k.current?.()))},G=T=>H(T,!0),V=T=>H(T,!1);return I.addEventListener("pointerdown",q),I.addEventListener("pointermove",Y,{passive:!1}),I.addEventListener("pointerup",G),I.addEventListener("pointercancel",V),()=>{I.removeEventListener("pointerdown",q),I.removeEventListener("pointermove",Y),I.removeEventListener("pointerup",G),I.removeEventListener("pointercancel",V)}},[r,n,j,g,c]),t.useEffect(()=>{a&&c()},[a,c]),t.useEffect(()=>()=>c(),[c]),{stop:c,setPosition:u}},we=()=>{const[s,r]=t.useState(!1);return t.useEffect(()=>{if(typeof window>"u"||!window.matchMedia)return;const n=window.matchMedia("(prefers-reduced-motion: reduce)"),i=l=>r(l.matches);return r(n.matches),n.addEventListener?n.addEventListener("change",i):n.addListener(i),()=>{n.removeEventListener?n.removeEventListener("change",i):n.removeListener(i)}},[]),s},de=(s,r,n)=>Math.min(n,Math.max(r,s)),je=({onSelectProject:s,projects:r,projectsLoading:n=!1,projectsError:i=null,theme:l,isAnyModalOpen:d=!1})=>{const a=t.useRef(null),o=t.useRef(null),f=t.useRef(!1),[h,P]=t.useState({x:-600,y:-400}),[C,y]=t.useState(!1),[R,m]=t.useState(!1),w=t.useRef(h),L=we(),[p,D]=t.useState({x:{min:-2200,max:0},y:{min:-1800,max:0}}),E=2840;t.useEffect(()=>{w.current=h},[h]),t.useEffect(()=>{const k=a.current,z=o.current;if(!k||!z)return;const M=()=>{const x=k.clientWidth,S=k.clientHeight,b=z.offsetWidth,j=z.offsetHeight,g={x:{min:Math.min(0,x-b),max:0},y:{min:Math.min(0,S-j),max:0}};D($=>$.x.min===g.x.min&&$.x.max===g.x.max&&$.y.min===g.y.min&&$.y.max===g.y.max?$:g),P($=>{const c={x:de($.x,g.x.min,g.x.max),y:de($.y,g.y.min,g.y.max)};return c.x===$.x&&c.y===$.y?$:c})};M();const v=typeof ResizeObserver<"u"?new ResizeObserver(()=>M()):null;return v?.observe(k),v?.observe(z),window.addEventListener("resize",M),()=>{v?.disconnect(),window.removeEventListener("resize",M)}},[]);const{stop:A}=ye(a,{enabled:!d,axis:"both",friction:.94,maxVelocity:55,minVelocity:.4,bounds:p,getPosition:()=>w.current,setPosition:k=>P(k),onInteractionStart:()=>{y(!1),m(!1),f.current=!1},onPanStart:()=>{y(!0),m(!0),f.current=!0},onMove:k=>{k>.25&&m(!0)},onStop:()=>y(!1),prefersReducedMotion:L,stopWhen:d});t.useEffect(()=>{d&&(A(),y(!1))},[d,A]);const F=()=>{const k=[],M=l==="light"?"bg-gradient-to-tr from-stone-200 via-cyan-200 to-stone-300":"bg-gradient-to-tr from-stone-700 via-cyan-800 to-stone-700",v=l==="light"?"text-cyan-700":"text-cyan-300";for(let x=0;x<15;x++)r.forEach((S,b)=>{const j=`${S.slug}-${x}-${b}`,g=`https://picsum.photos/seed/${encodeURIComponent(S.slug)}/900/900`;k.push(e.jsx("div",{className:`group relative w-full aspect-square cursor-pointer z-0 hover:z-50 
              transition-transform duration-[1500ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)]
              ${l==="dark"?"rotate-45 scale-90":"rotate-0 scale-100"}
              hover:scale-125
            `,onClick:$=>{if(R||f.current){$.preventDefault(),$.stopPropagation(),f.current=!1;return}$.stopPropagation();const c=$.currentTarget.getBoundingClientRect();s(S.slug,{top:c.top,left:c.left,width:c.width,height:c.height})},children:e.jsx("div",{className:`w-full h-full rounded-xl p-[1px] shadow-sm transition-all duration-500 group-hover:shadow-xl ${M}`,children:e.jsxs("div",{className:`w-full h-full relative overflow-hidden rounded-[calc(0.75rem-1px)] transition-colors duration-500 ${l==="light"?"bg-[#FAFAF9]":"bg-[#292524]"}`,children:[e.jsx("div",{className:"w-full h-full overflow-hidden flex items-center justify-center",children:e.jsx("img",{src:g,alt:S.title,draggable:!1,onDragStart:$=>$.preventDefault(),className:`w-full h-full object-cover transition-transform duration-[1500ms] ease-[cubic-bezier(0.25,0.46,0.45,0.94)] opacity-90 group-hover:opacity-100 select-none
                      ${l==="dark"?"rotate-[-45deg] scale-[1.45] group-hover:scale-[1.55]":"rotate-0 scale-100 group-hover:scale-110"}
                    `,loading:"lazy"})}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-900/80 via-cyan-900/10 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),e.jsx("div",{className:"absolute bottom-2 left-2 right-2 opacity-0 group-hover:opacity-100 transition-all duration-500 transform translate-y-2 group-hover:translate-y-0 z-10",children:e.jsxs("div",{className:`transition-transform duration-[1500ms] ${l==="dark"?"rotate-[-45deg] origin-bottom-left translate-x-4 -translate-y-2":""}`,children:[e.jsx("span",{className:`${v} text-[7px] font-semibold uppercase tracking-widest mb-0.5 block opacity-100`,children:S.category}),e.jsx("h3",{className:"text-white text-[10px] font-medium leading-tight",children:S.title})]})})]})})},j))});return k},B=l==="light"?"text-cyan-900/60":"text-cyan-200/60";return e.jsxs("div",{ref:a,style:{touchAction:"none"},className:"absolute inset-0 w-full h-full overflow-hidden cursor-move select-none",onClickCapture:k=>{f.current&&(k.preventDefault(),k.stopPropagation(),f.current=!1)},children:[e.jsx("div",{ref:o,className:"absolute top-0 left-0 will-change-transform origin-center",style:{transform:`translate3d(${h.x}px, ${h.y}px, 0)`,width:`${E}px`,transition:C?"none":"transform 1.4s cubic-bezier(0.19, 1, 0.22, 1)"},children:e.jsx("div",{className:"grid grid-cols-12 gap-20 p-20 perspective-1000",children:F()})}),(n||i||r.length===0)&&e.jsx("div",{className:"absolute top-20 left-1/2 -translate-x-1/2 pointer-events-none",children:e.jsx("span",{className:`text-[10px] uppercase tracking-[0.2em] ${B}`,children:n?"Loading Projects...":i?"Projects Unavailable":"No Projects Yet"})}),e.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 pointer-events-none opacity-60 mix-blend-difference animate-pulse",children:e.jsx("span",{className:`text-[10px] uppercase tracking-[0.2em] ${B}`,children:"Drag to Explore"})})]})},Ne=({theme:s="light"})=>{const[r,n]=t.useState(1),[i,l]=t.useState({q1:"",q2:"",q3:"",email:""}),[d,a]=t.useState(!1),[o,f]=t.useState(!1),h=s==="light"?"text-stone-900":"text-stone-100",P=s==="light"?"text-stone-500":"text-stone-400",C=s==="light"?"border-stone-200":"border-stone-700",y=s==="light"?"text-stone-700 border-stone-300 focus:border-cyan-800 text-base":"text-stone-200 border-stone-600 focus:border-cyan-400 text-base",R=s==="light"?"bg-cyan-900":"bg-cyan-200",m=(p,D)=>{l(E=>({...E,[p]:D}))},w=p=>{p.preventDefault(),r<4&&n(r+1)},L=async p=>{p.preventDefault(),a(!0),await new Promise(D=>setTimeout(D,1500)),a(!1),f(!0)};return o?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-in fade-in duration-700",children:[e.jsx("div",{className:"text-4xl mb-4",children:"✨"}),e.jsx("h3",{className:`text-xl font-light mb-2 ${h}`,children:"Vielen Dank."}),e.jsx("p",{className:`${P} text-sm`,children:"Ich melde mich in Kürze bei dir."})]}):e.jsxs("div",{className:"w-full h-full flex flex-col",children:[e.jsx("div",{className:"flex gap-1 mb-6 md:mb-8 shrink-0",children:[1,2,3,4].map(p=>e.jsx("div",{className:`h-1 rounded-full transition-all duration-500 ${p<=r?`w-8 ${R}`:s==="light"?"w-2 bg-stone-200":"w-2 bg-stone-800"}`},p))}),e.jsxs("form",{onSubmit:r===4?L:w,className:"flex-1 flex flex-col justify-between overflow-hidden",children:[e.jsx("div",{className:"flex-1 overflow-y-auto pr-2 flex flex-col",children:e.jsxs("div",{className:"animate-in slide-in-from-right-4 fade-in duration-500 flex flex-col h-full",children:[r===1&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`block text-lg md:text-xl font-light leading-snug mb-4 md:mb-6 ${h}`,children:"Was muss passieren, damit du unsere Zusammenarbeit als vollen Erfolg siehst?"}),e.jsx("textarea",{required:!0,className:`w-full bg-transparent border-b outline-none py-2 resize-none flex-1 min-h-[100px] transition-colors ${y}`,placeholder:"z.B. Mehr Anfragen, besseres Image...",value:i.q1,onChange:p=>m("q1",p.target.value),autoFocus:!0})]}),r===2&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`block text-lg md:text-xl font-light leading-snug mb-4 md:mb-6 ${h}`,children:"Woran würdest du merken, dass sich die Investition gelohnt hat?"}),e.jsx("textarea",{required:!0,className:`w-full bg-transparent border-b outline-none py-2 resize-none flex-1 min-h-[100px] transition-colors ${y}`,placeholder:"Messbare Ziele oder Bauchgefühl...",value:i.q2,onChange:p=>m("q2",p.target.value),autoFocus:!0})]}),r===3&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`block text-lg md:text-xl font-light leading-snug mb-4 md:mb-6 ${h}`,children:"In welchem Rahmen soll sich das Projekt bewegen?"}),e.jsx("div",{className:"flex-1",children:e.jsxs("select",{required:!0,className:`w-full bg-transparent border-b outline-none py-4 mb-4 cursor-pointer text-base ${y}`,value:i.q3,onChange:p=>m("q3",p.target.value),autoFocus:!0,children:[e.jsx("option",{value:"",disabled:!0,className:"text-black",children:"Bitte wählen..."}),e.jsx("option",{value:"starter",className:"text-black",children:"Essential (CHF 2'000)"}),e.jsx("option",{value:"custom",className:"text-black",children:"Custom (ab CHF 5'000)"}),e.jsx("option",{value:"unsure",className:"text-black",children:"Noch unsicher"})]})})]}),r===4&&e.jsxs(e.Fragment,{children:[e.jsx("label",{className:`block text-lg md:text-xl font-light leading-snug mb-4 md:mb-6 ${h}`,children:"Wohin darf ich die Antwort senden?"}),e.jsx("div",{className:"flex-1",children:e.jsx("input",{type:"email",required:!0,className:`w-full bg-transparent border-b outline-none py-2 ${y}`,placeholder:"deine@email.com",value:i.email,onChange:p=>m("email",p.target.value),autoFocus:!0})})]})]},r)}),e.jsx("div",{className:`shrink-0 flex justify-end mt-4 pt-4 md:mt-8 md:pt-6 border-t ${C}`,children:e.jsxs("button",{type:"submit",disabled:d,className:`group flex items-center gap-2 text-xs uppercase tracking-widest hover:opacity-60 transition-opacity py-2 ${h}`,children:[d?"Sende...":r===4?"Absenden":"Weiter",!d&&e.jsx("span",{className:"text-lg leading-none transform group-hover:translate-x-1 transition-transform",children:"→"})]})})]})]})},ke=({service:s,originRect:r,onClose:n,theme:i})=>{const[l,d]=t.useState(!1),[a,o]=t.useState(!1),[f,h]=t.useState(!1),[P,C]=t.useState("info"),[y,R]=t.useState(!1),[m,w]=t.useState(!1);t.useEffect(()=>{R(window.innerWidth<768);const x=()=>R(window.innerWidth<768);window.addEventListener("resize",x);const S=setTimeout(()=>d(!0),20),b=setTimeout(()=>o(!0),400),j=window.matchMedia("(pointer: coarse)"),g=$=>w($.matches);return w(j.matches),j.addEventListener?j.addEventListener("change",g):j.addListener(g),()=>{clearTimeout(S),clearTimeout(b),window.removeEventListener("resize",x),j.removeEventListener?j.removeEventListener("change",g):j.removeListener(g)}},[]);const L=()=>{h(!0),o(!1),d(!1),setTimeout(n,700)},p=i==="light"?"bg-white":"bg-[#1C1917]",D=i==="light"?"text-stone-900":"text-stone-100",E=i==="light"?"text-stone-500":"text-stone-400",A=i==="light"?"border-cyan-900 text-cyan-900":"border-cyan-200 text-cyan-200",F=i==="light"?"bg-cyan-800":"bg-cyan-200",B=i==="light"?"bg-stone-900 text-white hover:bg-cyan-900":"bg-white text-stone-900 hover:bg-cyan-200",k=y?{top:0,left:0,width:"100%",height:"100dvh",transform:"none",borderRadius:"0px"}:{top:"10%",left:"50%",width:"min(90%, 800px)",height:"min(80%, 700px)",transform:"translateX(-50%)",borderRadius:"24px"},z={top:`${r.top}px`,left:`${r.left}px`,width:`${r.width}px`,height:`${r.height}px`,transform:"none",borderRadius:"0px"},M=m||y,v=M?{paddingTop:"calc(env(safe-area-inset-top, 0px) + 96px)"}:void 0;return e.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center pointer-events-auto",children:[e.jsx("div",{className:`absolute inset-0 backdrop-blur-md transition-opacity duration-700 ease-in-out ${l&&!f?"opacity-100":"opacity-0"} ${i==="light"?"bg-[#FAFAF9]/80":"bg-black/80"}`,onClick:L}),e.jsxs("div",{className:`fixed md:relative shadow-2xl overflow-hidden transition-all duration-700 cubic-bezier(0.76, 0, 0.24, 1) ${p}`,style:l?k:z,children:[e.jsx("button",{onClick:L,className:`absolute md:top-6 md:right-6 z-30 w-10 h-10 flex items-center justify-center rounded-full transition-all duration-500 ${i==="light"?"bg-stone-100 hover:bg-stone-200 text-stone-900":"bg-stone-800 hover:bg-stone-700 text-stone-100"} ${a?"opacity-100 scale-100":"opacity-0 scale-75"}`,style:M?{top:"calc(env(safe-area-inset-top, 0px) + 18px)",right:"18px",position:"fixed"}:void 0,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),e.jsxs("div",{className:`w-full h-full flex flex-col md:flex-row transition-opacity duration-500 delay-100 ${a?"opacity-100":"opacity-0"}`,style:v,children:[e.jsxs("div",{className:`w-full md:w-1/3 p-6 md:p-12 flex flex-row md:flex-col items-center md:items-start justify-between md:justify-between shrink-0 ${i==="light"?"bg-stone-50":"bg-stone-800/50"}`,children:[e.jsxs("div",{className:"flex items-center md:block gap-4",children:[e.jsx("div",{className:"w-12 h-12 md:w-24 md:h-24 md:mb-6 shrink-0",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:`w-full h-full ${D}`,children:e.jsx("path",{d:s.icon})})}),e.jsxs("div",{children:[e.jsx("span",{className:`text-[10px] uppercase tracking-widest block mb-1 md:mb-2 opacity-50 ${D}`,children:"Service Details"}),e.jsx("h2",{className:`text-2xl md:text-4xl font-light leading-tight ${D}`,children:s.name})]})]}),e.jsxs("div",{className:`hidden md:block mt-6 pt-6 border-t w-full ${i==="light"?"border-stone-200":"border-stone-700"}`,children:[e.jsx("span",{className:`block text-xs uppercase tracking-wider mb-1 ${E}`,children:"Investment"}),e.jsx("span",{className:`text-lg font-medium ${D}`,children:s.startPrice})]})]}),e.jsxs("div",{className:"w-full md:w-2/3 p-6 md:p-12 flex flex-col relative overflow-hidden flex-1",children:[e.jsxs("div",{className:"flex gap-6 mb-4 md:mb-8 border-b border-stone-200 dark:border-stone-800 pb-2 md:pb-4 shrink-0",children:[e.jsx("button",{onClick:()=>C("info"),className:`text-xs uppercase tracking-widest pb-2 md:pb-4 -mb-2 md:-mb-4 border-b-2 transition-colors ${P==="info"?A:"border-transparent text-stone-400 hover:text-stone-500"}`,children:"Overview"}),e.jsx("button",{onClick:()=>C("booking"),className:`text-xs uppercase tracking-widest pb-2 md:pb-4 -mb-2 md:-mb-4 border-b-2 transition-colors ${P==="booking"?A:"border-transparent text-stone-400 hover:text-stone-500"}`,children:"Booking Request"})]}),e.jsxs("div",{className:`absolute inset-x-6 md:inset-x-12 top-24 md:top-32 bottom-6 md:bottom-8 transition-all duration-500 overflow-y-auto ${P==="info"?"translate-x-0 opacity-100 z-10":"-translate-x-10 opacity-0 z-0 pointer-events-none"}`,children:[e.jsxs("div",{className:`md:hidden mb-6 pb-6 border-b ${i==="light"?"border-stone-100":"border-stone-800"}`,children:[e.jsx("span",{className:`block text-xs uppercase tracking-wider mb-1 ${E}`,children:"Investment"}),e.jsx("span",{className:`text-lg font-medium ${D}`,children:s.startPrice})]}),e.jsx("h3",{className:`text-lg font-medium mb-6 ${D}`,children:"What's included"}),e.jsx("ul",{className:"space-y-4 mb-8",children:s.bullets.map((x,S)=>e.jsxs("li",{className:`flex items-start gap-3 ${E}`,children:[e.jsx("span",{className:`mt-1.5 w-1.5 h-1.5 rounded-full flex-shrink-0 ${F}`}),e.jsx("span",{className:"leading-relaxed",children:x})]},S))}),e.jsx("div",{className:"mt-auto pt-6",children:e.jsx("button",{onClick:()=>C("booking"),className:`w-full md:w-auto px-6 py-4 md:py-3 rounded-full text-xs uppercase tracking-widest transition-transform hover:scale-105 shadow-lg ${B}`,children:"Start Project"})})]}),e.jsx("div",{className:`absolute inset-x-6 md:inset-x-12 top-24 md:top-32 bottom-6 md:bottom-8 transition-all duration-500 ${P==="booking"?"translate-x-0 opacity-100 z-10":"translate-x-10 opacity-0 z-0 pointer-events-none"}`,children:e.jsx(Ne,{theme:i})})]})]})]})]})};var X=(s=>(s.BRAND="Brand Systems",s.WEB="Web Design",s.PHOTO="Photography",s.FILM="Film & Motion",s.PRINT="Print",s))(X||{});X.BRAND,X.WEB,X.PHOTO,X.WEB,X.FILM,X.PRINT,X.BRAND,X.PRINT,X.PHOTO;const ue=[{id:"s1",name:"Website Essential",icon:"M13 2L3 14h9l-1 8 10-12h-9l1-8z",teaser:"Launch-ready site built fast with a calm, premium polish.",bullets:["Astro + CMS Setup","Mobile First","SEO Basic"],startPrice:"CHF 2’000"},{id:"s2",name:"Custom Digital",icon:"M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4H6zM3.8 6h16.4M2 9h20M12 2v20",teaser:"Complex product flows with motion, data and crisp UX craft.",bullets:["React Interactions","Complex Data","Motion Design"],startPrice:"ab CHF 5’000"},{id:"s3",name:"Brand System",icon:"M12 2v20M2 12h20M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07",teaser:"A consistent visual language—type, color, marks—ready to scale.",bullets:["Logo & Typography","Color Strategy","Guidelines"],startPrice:"ab CHF 3’500"},{id:"s4",name:"Content & Photo",icon:"M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z M12 13a4 4 0 1 0 0-8 4 4 0 0 0 0 8z",teaser:"Editorial storytelling—art direction, photography and words aligned.",bullets:["Art Direction","Photography","Copywriting"],startPrice:"Tagesrate"},{id:"s5",name:"Hosting & Care",icon:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",teaser:"Secure hosting, updates and a human to call when it matters.",bullets:["Updates","Monitoring","Support"],startPrice:"CHF 10 / Mt"}],Ce="M12 2v20M2 12h20M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07";function $e(s,r){const n=String(s.id||"").trim()||`service-${r+1}`,i=Array.isArray(s.bullets)?s.bullets.map(f=>String(f).trim()).filter(Boolean):[],l=ue.find(f=>f.id===n),d=ue[r],a=l??d,o=a?.teaser??i[0]??`Tailored ${s.name.toLowerCase()} delivery for your business goals.`;return{id:n,name:s.name,icon:a?.icon??Ce,teaser:o,bullets:i.length>0?i:a?.bullets??[],startPrice:s.start_price||a?.startPrice||"On request"}}const Se=()=>{const[s,r]=t.useState(()=>typeof window>"u"?!1:window.matchMedia("(pointer: coarse)").matches);return t.useEffect(()=>{if(typeof window>"u")return;const n=window.matchMedia("(pointer: coarse)"),i=l=>r(l.matches);return n.addEventListener?n.addEventListener("change",i):n.addListener(i),()=>{n.removeEventListener?n.removeEventListener("change",i):n.removeListener(i)}},[]),s},Ee=({theme:s,services:r,servicesLoading:n=!1,servicesError:i=null,onModalToggle:l})=>{const[d,a]=t.useState(0),[o,f]=t.useState(null),[h,P]=t.useState(null),C=Se(),y=t.useMemo(()=>r.map($e),[r]),R=y[d]?.id??y[0]?.id??"",m=y.length;t.useEffect(()=>{if(m===0){a(0);return}a(u=>Math.max(0,Math.min(m-1,u)))},[m]);const w=m>0?360/m:360,L=m>0?180-d*w:180,p=t.useRef(0),D=320,E=t.useCallback(u=>m>0?Math.max(0,Math.min(m-1,u)):0,[m]),A=t.useCallback(u=>{if(m<=1)return;const N=Date.now();N-p.current<D||(p.current=N,a(W=>E(W+u)))},[E,m]),F=u=>{if(Math.abs(u.deltaY)<2)return;const N=u.deltaY>0?1:-1;A(N)},B=t.useRef(null),k=u=>{C&&(B.current=u.touches[0].clientY)},z=u=>{if(!C||B.current===null)return;const N=u.changedTouches[0].clientY-B.current;B.current=null,!(Math.abs(N)<35)&&A(N>0?-1:1)},M=(u,N)=>{const W=N.currentTarget.getBoundingClientRect();P({top:W.top,left:W.left,width:W.width,height:W.height}),f(u),l?.(!0)},v=()=>{f(null),l?.(!1)},x=s==="light"?"text-stone-900":"text-stone-100",S=s==="light"?"text-stone-400":"text-stone-600",b=s==="light"?"border-stone-200":"border-stone-800",j=s==="light"?"text-cyan-600":"text-cyan-400",g=s==="light"?"text-cyan-800":"text-cyan-200",$="bg-gradient-to-r from-cyan-500 to-transparent",c=u=>u===d;return e.jsxs("div",{className:"w-full h-full flex flex-col md:flex-row items-center justify-center relative overflow-hidden",onWheel:F,onTouchStart:k,onTouchEnd:z,children:[e.jsxs("div",{className:"w-full md:w-1/2 h-full flex flex-col justify-center px-6 md:px-8 md:pl-20 z-30 relative pointer-events-none",children:[n&&e.jsx("div",{className:"pointer-events-auto mb-6",children:e.jsx("p",{className:`text-xs uppercase tracking-widest ${S}`,children:"Loading services..."})}),i&&e.jsx("div",{className:"pointer-events-auto mb-6",children:e.jsx("p",{className:`text-xs uppercase tracking-widest ${S}`,children:"Services unavailable."})}),!n&&!i&&y.length===0&&e.jsx("div",{className:"pointer-events-auto mb-6",children:e.jsx("p",{className:`text-xs uppercase tracking-widest ${S}`,children:"No services yet."})}),e.jsx("div",{className:"space-y-4 md:space-y-6 max-w-lg pointer-events-auto",children:y.map((u,N)=>e.jsxs("div",{className:"group relative cursor-pointer py-2 md:py-0",onMouseEnter:C?void 0:()=>a(N),onClick:W=>{a(N),M(u,W)},children:[e.jsxs("div",{className:"flex items-center gap-4 md:gap-6",children:[e.jsxs("span",{className:`text-xs font-mono transition-colors duration-300 ${R===u.id?j:"text-stone-300 opacity-20"}`,children:["0",N+1]}),e.jsx("h2",{className:`font-light tracking-tight transition-all duration-700 origin-left
                      ${R===u.id?`text-3xl md:text-5xl ${x} scale-100 translate-x-2 md:translate-x-0`:`text-xl md:text-3xl ${S} hover:text-stone-500 scale-95`}
                    `,children:u.name})]}),e.jsx("div",{className:"pl-8 md:pl-[3.9rem] h-5 md:h-6 overflow-hidden",children:e.jsx("span",{className:`block text-[11px] md:text-xs leading-tight text-cyan-600/90 transition-all duration-300 ease-out
                      ${c(N)?"opacity-100 translate-y-0":"opacity-0 -translate-y-1"}
                    `,children:u.teaser})}),e.jsx("div",{className:`md:hidden pl-8 mt-1 overflow-hidden transition-all duration-300 ${R===u.id?"max-h-20 opacity-100":"max-h-0 opacity-0"}`,children:e.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-cyan-600 font-medium flex items-center gap-2",children:["Tap for details ",e.jsx("span",{className:"text-lg leading-none",children:"→"})]})})]},u.id))})]}),e.jsxs("div",{className:`absolute top-1/2 -translate-y-1/2 pointer-events-none z-10 transition-all duration-700
          right-[-25%] w-[60vh] h-[60vh] 
          md:right-[-15%] md:w-[70vh] md:h-[70vh]
      `,children:[e.jsx("div",{className:`absolute inset-0 rounded-full border ${b} opacity-30`}),e.jsx("div",{className:`absolute inset-[25%] rounded-full border border-dashed ${b} opacity-20`}),e.jsx("div",{className:`absolute inset-[40%] rounded-full border ${b} opacity-10`}),e.jsx("div",{className:"absolute inset-0 rounded-full transition-transform duration-[1500ms] ease-[cubic-bezier(0.23,1,0.32,1)]",style:{transform:`rotate(${L}deg)`},children:y.map((u,N)=>{const W=N*w;return e.jsx("div",{className:"absolute top-1/2 left-1/2 w-0 h-0 flex items-center justify-center",style:{transform:`rotate(${W}deg) translate(35vh) rotate(-${W}deg)`},children:e.jsxs("div",{className:"relative flex items-center justify-center transition-all duration-[1500ms] ease-[cubic-bezier(0.23,1,0.32,1)]",style:{transform:`rotate(${-L}deg) scale(${R===u.id?1.2:.8})`,opacity:R===u.id?1:.15},children:[e.jsx("div",{className:"w-16 h-16 md:w-20 md:h-20 flex items-center justify-center",children:e.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"0.8",strokeLinecap:"round",strokeLinejoin:"round",className:`w-full h-full transition-colors duration-500 ${R===u.id?g:x}`,children:e.jsx("path",{d:u.icon})})}),R===u.id&&e.jsx("div",{className:`absolute right-[120%] top-1/2 w-[10vh] md:w-[15vh] h-[1.5px] ${$} origin-right animate-in fade-in zoom-in duration-1000 rounded-full`})]})},u.id)})}),e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-2 h-2 rounded-full shadow-[0_0_15px_rgba(34,211,238,0.8)] bg-cyan-500"})]}),o&&h&&e.jsx(ke,{service:o,originRect:h,onClose:v,theme:s})]})},Me=s=>String(s||"").split(/[;,]/g).map(r=>r.trim()).filter(Boolean),Te=({project:s,projectSlug:r,isLoading:n,error:i,originRect:l,onClose:d,theme:a})=>{const[o,f]=t.useState(!1),[h,P]=t.useState(!1),[C,y]=t.useState(!1),R=t.useMemo(()=>s?.images?.length?s.images.map(c=>({id:c.id,src:c.url,alt:c.name||`${s.title} image`})):[],[s]);t.useEffect(()=>{const c=setTimeout(()=>f(!0),20),u=setTimeout(()=>P(!0),500),N=W=>{W.key==="Escape"&&m()};return window.addEventListener("keydown",N),()=>{clearTimeout(c),clearTimeout(u),window.removeEventListener("keydown",N)}},[]);const m=()=>{C||(y(!0),P(!1),f(!1),setTimeout(()=>{d()},700))},w=a==="light"?"bg-white":"bg-[#1C1917]",L=a==="light"?"text-stone-900":"text-stone-100",p=a==="light"?"text-stone-600":"text-stone-400",D=a==="light"?"border-stone-100":"border-stone-800",E=a==="dark",A=a==="light"?"bg-stone-50 text-stone-600 border-stone-100 hover:border-cyan-900/20 hover:text-cyan-900":"bg-stone-900 text-stone-300 border-stone-800 hover:border-cyan-500/30 hover:text-cyan-200",F=a==="light"?"bg-cyan-600 h-3":"bg-cyan-400 h-3",B=E?45:0,z=o&&!C?"rotate(0deg) scale(1)":`rotate(${B}deg) scale(${E?.707:1})`,M=o&&!C?"rotate(0deg) scale(1)":`rotate(${-B}deg) scale(${E?1.42:1})`,v=s?.slug||r||"project",x=R.length>0,S=s?.title||v,b=s?.category||"",j=s?.date||"",g=s?.description||"",$=s?Me(s.tags):[];return e.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center pointer-events-auto",children:[e.jsx("div",{className:`absolute inset-0 backdrop-blur-md transition-all duration-700 ease-in-out ${o&&!C?"opacity-100":"opacity-0"} ${a==="light"?"bg-[#FAFAF9]/90":"bg-black/90"}`,onClick:m}),e.jsx("div",{className:`fixed shadow-2xl overflow-hidden transition-all duration-700 cubic-bezier(0.76, 0, 0.24, 1) ${w}`,style:{top:o?"5%":`${l.top}px`,left:o?"5%":`${l.left}px`,width:o?"90%":`${l.width}px`,height:o?"90%":`${l.height}px`,borderRadius:o?"0px":"1.5rem",zIndex:60,transform:z,transformOrigin:"center center"},children:e.jsxs("div",{className:"w-full h-full flex flex-col md:flex-row transition-transform duration-700 cubic-bezier(0.76, 0, 0.24, 1)",style:{transform:M,transformOrigin:"center center"},children:[e.jsx("button",{onClick:m,className:`absolute top-6 right-6 z-30 w-10 h-10 flex items-center justify-center rounded-full backdrop-blur-md transition-all duration-500 delay-300 ${a==="light"?"bg-white/50 hover:bg-white text-black":"bg-black/50 hover:bg-stone-800 text-white"} ${h?"opacity-100 translate-y-0":"opacity-0 -translate-y-4"}`,children:e.jsx("svg",{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1 1L13 13M1 13L13 1",stroke:"currentColor",strokeWidth:"1.5"})})}),e.jsxs("div",{className:`relative group transition-all duration-700 ${o?"w-full md:w-3/5 h-1/2 md:h-full":"w-full h-full"}`,children:[e.jsx("div",{className:`w-full h-full ${o?"overflow-y-auto snap-y snap-mandatory scroll-smooth":"overflow-hidden"}`,style:{scrollbarWidth:"none"},children:x?R.map((c,u)=>e.jsxs("div",{className:"w-full h-full snap-start relative",children:[e.jsx("img",{src:c.src,alt:`${c.alt} view ${u+1}`,className:`w-full h-full object-cover transition-transform duration-[2s] ease-out ${o?"scale-100":"scale-110"}`,loading:"lazy"}),e.jsx("div",{className:`absolute left-6 top-1/2 -translate-y-1/2 flex flex-col gap-2 transition-opacity duration-500 ${h?"opacity-100":"opacity-0"}`,children:R.map((N,W)=>e.jsx("div",{className:`w-1 h-1 rounded-full transition-all duration-300 ${u===W?F:"bg-white/40"}`},N.id))})]},c.id)):e.jsx("div",{className:`w-full h-full flex items-center justify-center px-8 text-center ${a==="light"?"bg-stone-100 text-stone-500":"bg-stone-900 text-stone-300"}`,children:e.jsx("p",{className:"text-sm uppercase tracking-wider",children:n?"Loading gallery...":"No images yet"})})}),e.jsx("div",{className:`absolute bottom-6 left-6 px-3 py-1 text-xs uppercase tracking-wider transition-opacity duration-500 pointer-events-none z-20 backdrop-blur ${h?"opacity-100":"opacity-0"} ${a==="light"?"bg-white/80 text-black":"bg-black/80 text-white"}`,children:b}),x&&e.jsx("div",{className:`absolute bottom-6 right-6 text-cyan-200 text-[10px] uppercase tracking-widest animate-pulse transition-opacity duration-500 pointer-events-none z-20 ${h?"opacity-100":"opacity-0"}`,children:"Scroll / Swipe"})]}),e.jsx("div",{className:`transition-all duration-500 flex flex-col ${o?"w-full md:w-2/5 h-1/2 md:h-full opacity-100":"w-0 h-0 opacity-0 overflow-hidden"} ${w}`,children:e.jsxs("div",{className:`w-full h-full overflow-y-auto p-8 md:p-12 flex flex-col transition-opacity duration-300 ${h?"opacity-100":"opacity-0"}`,children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"text-xs text-stone-400 font-mono mb-4 block",children:[v.toUpperCase()," — ",j]}),e.jsx("h2",{className:`text-3xl md:text-5xl font-light tracking-tight mb-8 ${L}`,children:S}),e.jsxs("div",{className:`space-y-6 text-sm md:text-lg leading-relaxed font-light max-w-md ${p}`,children:[n&&e.jsx("p",{children:"Loading project details..."}),i&&!n&&e.jsxs("p",{children:["Failed to load project: ",i]}),!n&&!i&&e.jsx("p",{children:g})]})]}),!n&&!i&&$.length>0&&e.jsxs("div",{className:`mt-12 pt-6 border-t ${D}`,children:[e.jsx("h4",{className:"text-[10px] uppercase tracking-widest text-stone-400 mb-3",children:"Deliverables"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:$.map(c=>e.jsx("span",{className:`px-3 py-1 text-xs rounded-full border transition-colors ${A}`,children:c},c))})]})]})})]})})]})},Re=({theme:s,onToggle:r})=>{const n=s==="dark";return e.jsx("div",{className:"fixed bottom-6 left-6 z-50 pointer-events-auto",children:e.jsx("button",{onClick:r,className:`relative w-10 h-10 flex items-center justify-center transition-all duration-500 opacity-40 hover:opacity-100 active:scale-90 ${n?"text-white":"text-stone-900"}`,"aria-label":"Toggle Theme",children:e.jsxs("div",{className:"relative w-full h-full",children:[e.jsxs("svg",{className:`absolute inset-0 w-full h-full p-2 transition-all duration-700 ease-[cubic-bezier(0.23,1,0.32,1)] ${n?"opacity-0 rotate-90 scale-50":"opacity-100 rotate-0 scale-100"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("circle",{cx:"12",cy:"12",r:"5"}),e.jsx("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),e.jsx("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),e.jsx("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),e.jsx("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),e.jsx("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),e.jsx("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),e.jsx("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),e.jsx("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"})]}),e.jsx("svg",{className:`absolute inset-0 w-full h-full p-2 transition-all duration-700 ease-[cubic-bezier(0.23,1,0.32,1)] ${n?"opacity-100 rotate-0 scale-100":"opacity-0 -rotate-90 scale-50"}`,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round",children:e.jsx("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"})})]})})})},Le=({theme:s})=>{const[r,n]=t.useState("hidden"),[i,l]=t.useState(!1),d="M200,30 C260,20 320,50 360,100 C390,136 380,170 390,210 C400,250 420,280 390,330 C360,380 310,400 260,410 C210,420 160,400 110,380 C60,360 30,310 40,250 C50,190 20,140 60,90 C100,40 140,40 200,30 Z";t.useEffect(()=>{localStorage.getItem("p-heiniger-cookie-consent")||a();const w=()=>a();return window.addEventListener("p-heiniger-open-cookies",w),()=>window.removeEventListener("p-heiniger-open-cookies",w)},[]);const a=()=>{l(!1),n("intro"),setTimeout(()=>{n("active")},100)},o=m=>{l(!0),localStorage.setItem("p-heiniger-cookie-consent",m),setTimeout(()=>n("hidden"),1500)};if(r==="hidden")return null;const f=s==="dark",h=f?"#5D4037":"#D7CCC8",P=f?"#8D6E63":"#A1887F";return e.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center pointer-events-none",children:e.jsx("div",{className:`relative w-[400px] h-[400px] md:w-[600px] md:h-[600px] flex items-center justify-center perspective-1000 transition-all duration-[2000ms] cubic-bezier(0.34, 1.56, 0.64, 1)
          ${i?"scale-[0.01] rotate-[180deg] opacity-0 blur-xl":r==="active"?"scale-100 rotate-0 opacity-100 blur-0":"scale-[0.05] rotate-[720deg] opacity-0 blur-sm"}
        `,children:e.jsxs("div",{className:"relative w-full h-full animate-[spin_60s_linear_infinite] flex items-center justify-center pointer-events-auto",children:[e.jsxs("svg",{viewBox:"0 0 440 440",className:"absolute w-[110%] h-[110%] z-20 overflow-visible",style:{filter:"drop-shadow(0 30px 60px rgba(0,0,0,0.3))"},children:[e.jsxs("defs",{children:[e.jsx("path",{id:"cookieShape",d}),e.jsxs("filter",{id:"cookieTexture",children:[e.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.8",numOctaves:"3",result:"noise"}),e.jsx("feColorMatrix",{type:"matrix",values:"1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 0.5 0",in:"noise",result:"coloredNoise"}),e.jsx("feComposite",{operator:"in",in:"coloredNoise",in2:"SourceGraphic",result:"composite"}),e.jsx("feBlend",{mode:"multiply",in:"composite",in2:"SourceGraphic"})]}),e.jsxs("radialGradient",{id:"cookieGradient",cx:"50%",cy:"50%",r:"50%",fx:"30%",fy:"30%",children:[e.jsx("stop",{offset:"0%",stopColor:h,stopOpacity:"0.8"}),e.jsx("stop",{offset:"100%",stopColor:h,stopOpacity:"0.4"})]})]}),e.jsx("g",{}),e.jsx("use",{href:"#cookieShape",fill:"url(#cookieGradient)",filter:"url(#cookieTexture)",stroke:P,strokeWidth:"2",strokeDasharray:"4 8",strokeLinecap:"round"}),e.jsxs("g",{className:"animate-[spin_40s_linear_infinite_reverse] origin-center",children:[e.jsx("g",{transform:"translate(60, 40) rotate(20) scale(0.08)",children:e.jsx("use",{href:"#cookieShape",fill:h,filter:"url(#cookieTexture)",opacity:"0.9"})}),e.jsx("g",{transform:"translate(380, 100) rotate(140) scale(0.12)",children:e.jsx("use",{href:"#cookieShape",fill:h,filter:"url(#cookieTexture)",opacity:"0.8"})}),e.jsx("g",{transform:"translate(300, 380) rotate(-40) scale(0.06)",children:e.jsx("use",{href:"#cookieShape",fill:h,filter:"url(#cookieTexture)",opacity:"0.9"})}),e.jsx("g",{transform:"translate(80, 350) rotate(90) scale(0.1)",children:e.jsx("use",{href:"#cookieShape",fill:h,filter:"url(#cookieTexture)",opacity:"0.85"})})]})]}),e.jsx("div",{className:"absolute inset-0 z-10 pointer-events-none",style:{clipPath:`path('${d}')`,left:"50%",top:"50%",width:"440px",height:"440px",transform:"translate(-50%, -50%)"},children:e.jsx("div",{className:"w-full h-full backdrop-blur-xl bg-stone-900/10"})}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-30 animate-[spin_60s_linear_infinite_reverse]",children:e.jsxs("div",{className:"max-w-[260px] md:max-w-xs text-center transform transition-transform duration-1000 delay-200 drop-shadow-md",children:[e.jsx("span",{className:"inline-block mb-4 px-3 py-1 rounded-full text-[9px] uppercase tracking-widest border backdrop-blur-md shadow-sm border-white/30 bg-black/20 text-white",children:"Concept: The 2k Banner"}),e.jsx("h2",{className:"text-xl md:text-2xl font-normal leading-tight mb-4 text-white",style:{textShadow:"0 2px 10px rgba(0,0,0,0.3)"},children:"I designed this incase a client ever wanted to spend 2k on a cookie banner."}),e.jsxs("p",{className:"text-xs font-light leading-relaxed mb-6 text-orange-50",style:{textShadow:"0 1px 4px rgba(0,0,0,0.3)"},children:["Now I have one ready.",e.jsx("br",{}),e.jsx("span",{className:"opacity-80 text-[10px]",children:"(Yes, we use cookies to save this preference.)"})]}),e.jsxs("div",{className:"flex flex-col gap-3 items-center w-full px-4",children:[e.jsxs("button",{onClick:()=>o("all"),className:"w-full py-3 rounded-full text-xs uppercase tracking-widest font-bold text-stone-900 bg-white hover:bg-stone-100 transition-all duration-300 hover:scale-105 active:scale-95 shadow-lg border border-white/50",children:["Worth It ",e.jsx("span",{className:"opacity-50 ml-1 text-[9px] font-normal",children:"(Accept)"})]}),e.jsx("button",{onClick:()=>o("essential"),className:"w-full py-2 rounded-full text-[10px] uppercase tracking-widest hover:underline transition-colors text-white/80 hover:text-white",children:"Too Cheap (Essential)"})]})]})})]})})})},Pe=({isOpen:s,onClose:r,originRect:n,theme:i,services:l,servicesLoading:d=!1,servicesError:a=null})=>{const[o,f]=t.useState(!1),[h,P]=t.useState(!1),[C,y]=t.useState(!1),[R,m]=t.useState(!1),[w,L]=t.useState(!1),[p,D]=t.useState({service:"",email:"",message:""}),[E,A]=t.useState("idle");t.useEffect(()=>{L(window.innerWidth<768);const g=()=>L(window.innerWidth<768);return window.addEventListener("resize",g),s?(m(!0),requestAnimationFrame(()=>{requestAnimationFrame(()=>{f(!0),setTimeout(()=>P(!0),400)})})):F(),()=>window.removeEventListener("resize",g)},[s]);const F=()=>{C||(y(!0),P(!1),f(!1),setTimeout(()=>{m(!1),y(!1),A("idle"),r()},700))},B=async g=>{g.preventDefault(),A("submitting"),await new Promise($=>setTimeout($,1500)),A("success")};if(!R||!n)return null;const k=d?"Loading services...":a?"Services unavailable":"Select a Service...",z=i==="light"?"bg-white":"bg-[#1C1917]",M=i==="light"?"text-stone-900":"text-stone-100",v=i==="light"?"text-stone-500":"text-stone-400",x=i==="light"?"text-stone-900 border-stone-300 focus:border-cyan-600 placeholder-stone-400 text-base":"text-stone-100 border-stone-700 focus:border-cyan-400 placeholder-stone-600 text-base",S=i==="light"?"bg-stone-900 text-white hover:bg-cyan-900 shadow-[0_10px_20px_-5px_rgba(8,145,178,0.2)]":"bg-white text-stone-900 hover:bg-cyan-200 shadow-[0_10px_20px_-5px_rgba(34,211,238,0.15)]",b=w?{top:0,left:0,width:"100%",height:"100dvh",transform:"none",borderRadius:"0px"}:{top:"50%",left:"50%",width:"min(90%, 600px)",height:"min(80vh, 700px)",transform:"translate(-50%, -50%)",borderRadius:"24px"},j={top:`${n.top}px`,left:`${n.left}px`,width:`${n.width}px`,height:`${n.height}px`,transform:"translate(0, 0)",borderRadius:"0px"};return e.jsxs("div",{className:"fixed inset-0 z-[70] flex items-center justify-center pointer-events-none",children:[e.jsx("div",{className:`absolute inset-0 backdrop-blur-md transition-opacity duration-700 ease-in-out pointer-events-auto ${o&&!C?"opacity-100":"opacity-0"} ${i==="light"?"bg-[#FAFAF9]/80":"bg-black/80"}`,onClick:F}),e.jsxs("div",{className:`fixed shadow-2xl overflow-hidden flex flex-col pointer-events-auto transition-all duration-700 cubic-bezier(0.19, 1, 0.22, 1) ${z}`,style:o?b:j,children:[e.jsx("button",{onClick:F,className:`absolute top-4 right-4 md:top-6 md:right-6 z-30 w-10 h-10 flex items-center justify-center rounded-full transition-all duration-500 ${i==="light"?"bg-stone-100 hover:bg-stone-200 text-stone-900":"bg-stone-800 hover:bg-stone-700 text-stone-100"} ${h?"opacity-100 scale-100":"opacity-0 scale-75"}`,children:e.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",children:[e.jsx("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e.jsx("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]})}),e.jsx("div",{className:`flex-1 overflow-y-auto p-6 md:p-12 transition-opacity duration-500 delay-100 ${h?"opacity-100":"opacity-0"}`,children:E==="success"?e.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center animate-in fade-in duration-700",children:[e.jsx("div",{className:"text-5xl mb-6",children:"✨"}),e.jsx("h2",{className:`text-3xl font-light mb-4 ${M}`,children:"Message Sent."}),e.jsx("p",{className:`max-w-xs mx-auto leading-relaxed ${v}`,children:"Thank you for reaching out. I usually respond within 24 hours."}),e.jsx("button",{onClick:F,className:`mt-12 px-8 py-3 rounded-full text-xs uppercase tracking-widest border transition-all hover:scale-105 ${i==="light"?"border-stone-900 text-stone-900":"border-stone-100 text-stone-100"}`,children:"Close"})]}):e.jsxs("div",{className:"max-w-lg mx-auto h-full flex flex-col",children:[e.jsxs("div",{className:"mb-6 md:mb-10 shrink-0",children:[e.jsx("span",{className:`text-xs uppercase tracking-widest block mb-2 opacity-50 ${M}`,children:"Get in touch"}),e.jsx("h2",{className:`text-2xl md:text-4xl font-light leading-tight ${M}`,children:"Let's start a project."})]}),e.jsxs("form",{onSubmit:B,className:"flex-1 flex flex-col gap-6 md:gap-8 overflow-y-auto",children:[e.jsxs("div",{className:"group",children:[e.jsx("label",{className:`block text-xs uppercase tracking-widest mb-3 ${v}`,children:"I'm interested in"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{required:!0,value:p.service,onChange:g=>D({...p,service:g.target.value}),className:`w-full bg-transparent border-b py-3 pr-8 appearance-none outline-none cursor-pointer rounded-none transition-colors ${x}`,children:[e.jsx("option",{value:"",disabled:!0,className:"bg-stone-100 text-stone-500",children:k}),l.map(g=>e.jsx("option",{value:g.id,className:"text-black",children:g.name},g.id)),e.jsx("option",{value:"other",className:"text-black",children:"Other / General Inquiry"})]}),e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 pointer-events-none opacity-50",children:e.jsx("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"M6 9l6 6 6-6"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:`block text-xs uppercase tracking-widest mb-3 ${v}`,children:"My Email is"}),e.jsx("input",{type:"email",required:!0,placeholder:"name@company.com",value:p.email,onChange:g=>D({...p,email:g.target.value}),className:`w-full bg-transparent border-b py-3 outline-none rounded-none transition-colors ${x}`})]}),e.jsxs("div",{className:"flex-1 min-h-[100px] md:min-h-[120px]",children:[e.jsx("label",{className:`block text-xs uppercase tracking-widest mb-3 ${v}`,children:"Message"}),e.jsx("textarea",{required:!0,placeholder:"Tell me a bit about your goals, timeline, or just say hello...",value:p.message,onChange:g=>D({...p,message:g.target.value}),className:`w-full h-full bg-transparent border-b py-3 outline-none resize-none rounded-none transition-colors ${x}`})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 md:pt-6 mt-auto shrink-0 pb-4 md:pb-0",children:[e.jsx("span",{className:`text-[10px] uppercase tracking-wider opacity-50 ${M}`,children:E==="submitting"?"Processing...":"Ready to launch"}),e.jsx("button",{type:"submit",disabled:E==="submitting",className:`px-8 py-4 rounded-full text-xs uppercase tracking-widest font-medium transition-all duration-300 hover:scale-105 active:scale-95 disabled:opacity-50 ${S}`,children:"Send Request"})]})]})]})})]})]})},Ae=6e4,xe=new Map,re=new Map;function Ie(){throw new Error("Missing VITE_API_BASE_URL")}function ae(s){const r=new URL(Ie());return Object.entries(s).forEach(([n,i])=>{i!==void 0&&r.searchParams.set(n,String(i))}),r.toString()}function De(s){return!!(s&&typeof s=="object"&&"error"in s&&typeof s.error=="string")}async function ie(s,r){const n=r?.useCache??!0,i=r?.cacheTtlMs??Ae;if(n){const d=xe.get(s);if(d&&d.expiresAt>Date.now())return d.value;const a=re.get(s);if(a)return await a}const l=(async()=>{const d=await fetch(s,{method:"GET",headers:{Accept:"application/json"}});if(!d.ok)throw new Error(`API ${d.status}: ${s}`);const a=await d.json();if(De(a))throw new Error(`API error: ${a.error}`);return n&&xe.set(s,{value:a,expiresAt:Date.now()+i}),a})();n&&re.set(s,l);try{return await l}finally{n&&re.delete(s)}}async function ze(s){return ie(ae({entity:"projects",lang:s}))}async function Fe(s,r){return ie(ae({entity:"project_detail",slug:s,lang:r}),{cacheTtlMs:5*6e4})}async function _e(s){return ie(ae({entity:"services",lang:s}))}const Be="phd_lang";function We(){if(typeof window>"u")return null;const s=new URLSearchParams(window.location.search).get("lang");return s==="de"||s==="en"?s:null}function qe(){const s=We();if(s)return s;if(typeof window>"u")return"en";try{const r=localStorage.getItem(Be);return r==="de"||r==="en"?r:"en"}catch{return"en"}}const Oe=s=>"(missing)",He=()=>{const s=qe(),r="",n=!1,i=t.useMemo(()=>Oe(),[r]),[l,d]=t.useState("work"),[a,o]=t.useState([]),[f,h]=t.useState(!0),[P,C]=t.useState(null),[y,R]=t.useState([]),[m,w]=t.useState(!0),[L,p]=t.useState(null),[D,E]=t.useState(!1),[A,F]=t.useState(null),[B,k]=t.useState(null),[z,M]=t.useState(!1),[v,x]=t.useState(null),[S,b]=t.useState(null),[j,g]=t.useState("light"),[$,c]=t.useState(!1),u=t.useRef(new Map),N=t.useRef(0),[W,I]=t.useState(!1),[q,Y]=t.useState(null);t.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("debug")==="1";E(_)},[]),t.useEffect(()=>{},[r,n,s]),t.useEffect(()=>{console.error("[CMS] Missing VITE_API_BASE_URL")},[r]),t.useEffect(()=>{let _=!1;return h(!0),C(null),ze(s).then(O=>{_||o(O.items)}).catch(O=>{if(_)return;const U=O instanceof Error?O.message:String(O);C(U)}).finally(()=>{_||h(!1)}),()=>{_=!0}},[n,s]),t.useEffect(()=>{let _=!1;return w(!0),p(null),_e(s).then(O=>{_||R(O.items)}).catch(O=>{if(_)return;const U=O instanceof Error?O.message:String(O);p(U)}).finally(()=>{_||w(!1)}),()=>{_=!0}},[n,s]);const H=_=>{N.current+=1,d(_),F(null),k(null),M(!1),x(null)},G=async(_,O)=>{const U=++N.current;b(O),F(_),k(null),x(null),M(!0);const se=u.current.get(_);if(se){k(se),M(!1);return}try{const K=await Fe(_,s);if(u.current.set(_,K),N.current!==U)return;k(K)}catch(K){if(N.current!==U)return;const he=K instanceof Error?K.message:String(K);x(he)}finally{if(N.current!==U)return;M(!1)}},V=()=>{N.current+=1,F(null),k(null),M(!1),x(null)},T=_=>{Y(_),I(!0)},Q=()=>{g(_=>_==="light"?"dark":"light")},Z=!!(A||W||$),te=v||P||L||null;return t.useEffect(()=>{document.body.style.backgroundColor=j==="light"?"#FAFAF9":"#1C1917"},[j]),e.jsxs("div",{className:"relative w-full h-screen overflow-hidden bg-stone-900",children:[e.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none transition-opacity duration-[2000ms] ease-in-out ${j==="dark"?"opacity-100":"opacity-0"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-[#1C1917]"}),e.jsx("div",{className:"absolute top-[-20%] left-[-10%] w-[90vw] h-[90vh] bg-cyan-900/30 rounded-full blur-[100px] animate-aurora-1 mix-blend-screen"}),e.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[80vw] h-[80vh] bg-teal-900/30 rounded-full blur-[80px] animate-aurora-2 mix-blend-screen"}),e.jsx("div",{className:"absolute inset-0 opacity-[0.05] bg-[url('https://grainy-gradients.vercel.app/noise.svg')]"})]}),e.jsxs("div",{className:`absolute inset-0 overflow-hidden pointer-events-none transition-opacity duration-[2000ms] ease-in-out ${j==="light"?"opacity-100":"opacity-0"}`,children:[e.jsx("div",{className:"absolute inset-0 bg-[#FAFAF9]"}),e.jsx("div",{className:"absolute top-[10%] right-[20%] w-[70vw] h-[70vw] bg-cyan-100/70 rounded-full blur-[120px] animate-cloud mix-blend-multiply"}),e.jsx("div",{className:"absolute bottom-[-20%] left-[-10%] w-[100vw] h-[100vh] bg-white rounded-full blur-[100px] animate-aurora-2 opacity-90"}),e.jsx("div",{className:"absolute top-[-20%] left-[10%] w-[60vw] h-[60vh] bg-stone-100/80 rounded-full blur-[80px] animate-aurora-1"})]}),e.jsxs("div",{className:"relative z-10 w-full h-full",children:[e.jsx(ge,{currentView:l,onNavigate:H,onOpenContact:T,onSelectProject:G,latestProjects:a,isAnyModalOpen:Z,theme:j}),e.jsx("div",{className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${l==="work"?"opacity-100 z-30 pointer-events-auto":"opacity-0 z-0 pointer-events-none"}`,children:e.jsx(je,{onSelectProject:G,projects:a,projectsLoading:f,projectsError:P,theme:j,isAnyModalOpen:Z})}),e.jsx("div",{className:`absolute inset-0 transition-opacity duration-700 ease-in-out ${l==="services"?"opacity-100 z-30 pointer-events-auto":"opacity-0 z-0 pointer-events-none"}`,children:e.jsx(Ee,{theme:j,onModalToggle:c,services:y,servicesLoading:m,servicesError:L})})]}),A&&S&&e.jsx(Te,{project:B,projectSlug:A,isLoading:z,error:v,originRect:S,onClose:V,theme:j}),W&&e.jsx(Pe,{isOpen:W,onClose:()=>I(!1),originRect:q,theme:j,services:y,servicesLoading:m,servicesError:L}),e.jsx("div",{className:"fixed bottom-6 right-6 z-40 hidden md:block mix-blend-difference text-white pointer-events-none",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"relative flex h-2 w-2",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-cyan-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-cyan-500"})]}),e.jsx("span",{className:"text-[10px] uppercase tracking-widest font-medium text-white/90",children:"Available for Q4"})]})}),e.jsx(Re,{theme:j,onToggle:Q}),e.jsx(Le,{theme:j}),e.jsx("div",{className:"fixed top-0 left-0 right-0 z-[90] px-4 py-2 text-center text-xs uppercase tracking-widest bg-red-600 text-white",children:"Missing VITE_API_BASE_URL"}),D&&e.jsxs("div",{className:"fixed bottom-4 left-4 z-[95] w-[min(90vw,320px)] rounded-lg border border-stone-700 bg-black/85 px-3 py-3 text-[11px] leading-relaxed text-stone-100 backdrop-blur",children:[e.jsx("div",{className:"text-cyan-300 uppercase tracking-widest text-[10px] mb-2",children:"CMS Debug"}),e.jsxs("div",{children:["lang: ",s]}),e.jsxs("div",{children:["api: ",i]}),e.jsxs("div",{children:["projects: ",a.length]}),e.jsxs("div",{children:["services: ",y.length]}),e.jsxs("div",{children:["error: ",te||"(none)"]})]})]})};export{He as default};
